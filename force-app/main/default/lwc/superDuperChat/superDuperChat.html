<template>
    <c-super-duper-chat-miaw onendusermessage={handleEndUserMessage}>
    </c-super-duper-chat-miaw>

    <lightning-card title="Super Duper Chat" icon-name="utility:chat">

        <div class="height-vh slds-scrollable_y">
            <section class="slds-chat">
                <ul class="slds-chat-list">

                    <template for:each={messages} for:item="message">
                        <c-super-duper-chat-message 
                            key={message.id} 
                            chat-message={message.text} 
                            chat-user={message.user} 
                            chat-time={message.time}
                            chat-message-type={message.type}>
                        </c-super-duper-chat-message>
                    </template>

                </ul>
            </section>
        </div>

        <footer slot="footer">
            <div class="slds-grid">
                <div class="slds-col slds-size_11-of-12">
                    <lightning-input variant="label-hidden" type="text" lwc:ref="messageInput"></lightning-input>
                </div>
                <div class="slds-col slds-size_1-of-12">
                    <lightning-button label="Send" onclick={handleSendAgentMessage}></lightning-button>
                </div>
            </div>
        </footer>

    </lightning-card>

</template>